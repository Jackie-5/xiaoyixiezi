<!-- index.wxml -->
<view class="xz-index">
  <view style="display:none">
    <image wx:for="{{images}}" wx:key="id" id="{{item.id}}" src="{{item.imgUrl}}" bindload="onImageLoad"></image>
  </view>
  <view
    class="xz-index__header clearfix"
  >
    <view class="float-left xz-index__header__list">
      <view
        wx:for="{{tagLeft}}"
        wx:key="index"
        wx:for-item="it"
        class="xz-index__header__list__item {{it.checked ? 'active' : ''}}"
        bind:tap="leftTabSwitch"
        data-it="{{it}}"
      >
        <view class="text">{{it.name}}</view>
        <view
          class="bottom-icon"
          wx:if="{{it.checked}}"
        ></view>
      </view>
    </view>

    <view class="float-right xz-index__header__list {{nowTagLeft.key === 'opus' ? 'xz-index__header__right' : ''}}">
      <view
        wx:if="{{nowTagLeft.key === 'album' && it.key === 'nearby' ? false : true}}"
        wx:for="{{tagRight}}"
        wx:key="index"
        wx:for-item="it"
        class="xz-index__header__list__item {{it.checked ? 'active' : ''}}"
        bind:tap="rightTabSwitch"
        data-it="{{it}}"
      >
        <view class="text">{{it.name}}</view>
        <view
          class="bottom-icon"
          wx:if="{{it.checked}}"
        ></view>
      </view>
    </view>
  </view>
  <view class="xz-body" wx:if="{{nowTagLeft.key === 'opus'}}">
    <view class="xz-body__list">
      <view class="xz-body__list__item">
        <view
          class="xz-body__list__item__img"
          wx:for="{{col1}}"
          wx:key="id"
          bind:tap="gotoPage"
          data-item="{{item}}"
        >
          <view class="title">{{item.title}} {{item.author}}</view>
          <view class="bottom clearfix">
            <view class="name float-left">{{item.write_author}}</view>
            <view class="zan float-right clearfix">
              <view class="iconfont icon-zan3 float-left"></view>
              <view class="float-left">{{item.praise}}</view>
            </view>
          </view>
          <view class="bg" style="width:100%;height:{{item.height}}px"></view>
          <image lazy-load="true" src="{{item.imgUrl}}" style="width:100%;height:{{item.height}}px"></image>
        </view>
      </view>
      <view class="xz-body__list__item">
        <view
          class="xz-body__list__item__img"
          wx:for="{{col2}}"
          wx:key="id"
          bind:tap="gotoPage"
          data-item="{{item}}"
        >
          <view class="title">{{item.title}} {{item.author}}</view>
          <view class="bottom clearfix">
            <view class="name float-left">{{item.write_author}}</view>
            <view class="zan float-right clearfix">
              <view class="iconfont icon-zan3 float-left"></view>
              <view class="float-left">{{item.praise}}</view>
            </view>
          </view>
          <view class="bg" style="width:100%;height:{{item.height}}px"></view>
          <image lazy-load="true" src="{{item.imgUrl}}" style="width:100%;height:{{item.height}}px"></image>
        </view>
      </view>
    </view>

    <i-load-more tip="{{loading.tip}}" loading="{{ loading.load }}"/>
  </view>

  <view class="zj-body" wx:if="{{nowTagLeft.key === 'album'}}">
    <view class="zj-body__list">
      <view
        class="zj-body__list__item"
        wx:for="{{albumList}}"
        wx:for-item="item"
        wx:key="index"
      >
        <view class="mark"></view>

        <view class="title">《{{item.title}}》</view>

        <view class="image-bg">
          <image src="{{item.imgUrl}}"></image>
        </view>

        <view class="author">专辑作者：{{item.author}}</view>

        <view class="bottom">
          <view class="number">共{{sample}}篇</view>
          <view class="zan float-right clearfix">
            <view class="iconfont icon-zan3 float-left"></view>
            <view class="float-left">{{item.praise}}</view>
          </view>
        </view>
      </view>
    </view>

    <i-load-more tip="{{loading.tip}}" loading="{{ loading.load }}"/>
  </view>

  <footer></footer>
</view>
